<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{ site.title }}</title>
        <meta name="description" content="{{ site.description }}" />
        <meta name="author" content="{{ site.author }}" />
        <link rel="stylesheet" href="{{ base_path }}styles.css" />
    </head>
    <body>
        <header>
            <h1>{{ site.title }}</h1>
            <p class="subtitle">{{ site.subtitle }}</p>
        </header>

        <main>
            <div class="gallery">
                {% for column in columns %}
                <div class="column">
                    {% for photo in column %}
                    <div class="photo-item" style="order: {{ photo.order }}">
                        <a
                            href="{{ base_path }}assets/full/{{ photo.full_filename }}"
                        >
                            <img
                                src="{{ base_path }}assets/thumbnail/{{ photo.thumb_filename }}"
                                alt="{{ photo.original }}"
                                width="{{ photo.width }}"
                                height="{{ photo.height }}"
                                loading="lazy"
                            />
                        </a>
                        <div class="metadata-box">
                            {% if photo.meta.name %}
                            <div class="photo-name">{{ photo.meta.name }}</div>
                            {% elif not display.hide_filenames %}
                            <div class="filename">{{ photo.original }}</div>
                            {% endif %} {% if photo.meta.camera %}
                            <div class="camera">{{ photo.meta.camera }}</div>
                            {% endif %} {% if photo.meta.film %}
                            <div class="film">{{ photo.meta.film }}</div>
                            {% endif %} {% if photo.meta.lens %}
                            <div class="lens">{{ photo.meta.lens }}</div>
                            {% endif %} {% if photo.meta.location %}
                            <div class="location">
                                {{ photo.meta.location }}
                            </div>
                            {% endif %}
                            <div class="date">{{ photo.meta.date }}</div>
                            {% if photo.meta.notes %}
                            <div class="notes">{{ photo.meta.notes }}</div>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% endfor %}
            </div>

            {% if total_pages > 1 %}
            <nav class="pagination">
                {% if prev_url %}
                <a href="{{ prev_url }}" class="page-link prev"
                    >&larr; Previous</a
                >
                {% endif %}
                <span class="page-info"
                    >{{ current_page }} / {{ total_pages }}</span
                >
                {% if next_url %}
                <a href="{{ next_url }}" class="page-link next">Next &rarr;</a>
                {% endif %}
            </nav>
            {% endif %}
        </main>

        <footer>
            <div class="footer-content">
                <p>{{ site.description }}</p>
                <p class="stats">{{ count }} Photographs</p>
                {% if footer.links %}
                <nav class="footer-links">
                    {% for link in footer.links %}
                    <a href="{{ link.url }}">{{ link.name }}</a>
                    {% endfor %}
                </nav>
                {% endif %}
                <p class="credits">
                    Created using
                    <a href="https://github.com/un1970ix/analogatique"
                        >analogatique</a
                    >.
                </p>
            </div>
        </footer>
    </body>
</html>
